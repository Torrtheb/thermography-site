# ──────────────────────────────────────────────────────────
# Django / Wagtail — copy this file to .env and fill in values
# ──────────────────────────────────────────────────────────

# REQUIRED in production (will crash on startup if missing)
# Generate one with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=

# Comma-separated — must include your Cloud Run URL and custom domain
ALLOWED_HOSTS=your-service-xxxx-uc.a.run.app

# Must include https:// scheme
CSRF_TRUSTED_ORIGINS=https://your-service-xxxx-uc.a.run.app

# Full public URL (no trailing slash, no /admin)
WAGTAILADMIN_BASE_URL=https://your-service-xxxx-uc.a.run.app

# Full public URL — used for absolute links in emails (e.g. newsletter unsubscribe)
SITE_URL=https://your-service-xxxx-uc.a.run.app

# ──────────────────────────────────────────────────────────
# Database — Neon PostgreSQL (free tier)
# Get this from: https://console.neon.tech → your project → Connection Details
# ──────────────────────────────────────────────────────────
DATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require

# ──────────────────────────────────────────────────────────
# Media storage — Google Cloud Storage
# Only GS_BUCKET_NAME is needed on Cloud Run (auth is automatic via SA)
# On Railway (or any non-GCP host), also set GCS_CREDENTIALS_BASE64.
# ──────────────────────────────────────────────────────────
GS_BUCKET_NAME=your-project-id-media

# Base64-encoded service account JSON key — REQUIRED on Railway
# Generate with:  base64 -i gcs-key.json | tr -d '\n'
# Not needed on Cloud Run (uses attached SA identity automatically)
GCS_CREDENTIALS_BASE64=

# ──────────────────────────────────────────────────────────
# Analytics — GoatCounter (free, privacy-friendly)
# Sign up at https://www.goatcounter.com → your site code
# ──────────────────────────────────────────────────────────
GOATCOUNTER_SITE_CODE=your-site-code

# ──────────────────────────────────────────────────────────
# Email — Brevo (Sendinblue) SMTP relay
# Sign up at https://app.brevo.com → Settings → SMTP & API → SMTP tab
# Use your Brevo login email as EMAIL_HOST_USER
# Use the SMTP key (not the API key) as BREVO_SMTP_KEY
# ──────────────────────────────────────────────────────────
EMAIL_HOST_USER=your-brevo-login@email.com
BREVO_SMTP_KEY=xsmtpsib-xxxxxxxxxxxxxxxxxxxx
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# ──────────────────────────────────────────────────────────
# Brevo (Sendinblue) Contacts API — for newsletter list sync
# Get your API key at https://app.brevo.com → Settings → API Keys
# Create a list and note its numeric ID.
# ──────────────────────────────────────────────────────────
BREVO_API_KEY=
BREVO_LIST_ID=

# ──────────────────────────────────────────────────────────
# Media storage — S3-compatible ALTERNATIVE (AWS S3, Cloudflare R2)
# Only use these if NOT using Google Cloud Storage above
# ──────────────────────────────────────────────────────────
# AWS_STORAGE_BUCKET_NAME=your-bucket-name
# AWS_S3_REGION_NAME=us-east-1
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_ENDPOINT_URL=  # Only for non-AWS (e.g. https://xxxx.r2.cloudflarestorage.com)
# AWS_S3_CUSTOM_DOMAIN=  # Optional CDN domain (e.g. cdn.example.com)

# ──────────────────────────────────────────────────────────
# Client database — field-level encryption key (Fernet)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# IMPORTANT: Back this up securely. If lost, encrypted client data is unrecoverable.
# ──────────────────────────────────────────────────────────
FIELD_ENCRYPTION_KEY=