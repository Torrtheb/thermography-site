{% load wagtailimages_tags %}

{# --- Big CTA: full-width call to action with optional background image --- #}

{% if value.background_image %}
    {% image value.background_image fill-1920x600 as bg_img %}
{% endif %}

<section class="relative overflow-hidden
    {% if value.background_image %}text-white{% else %}bg-brand-800 text-white{% endif %}"
    {% if value.background_image %}
    style="background-image: url('{{ bg_img.url }}'); background-size: cover; background-position: center;"
    {% endif %}
>
    {# Dark overlay #}
    <div class="absolute inset-0
        {% if value.background_image %}bg-brand-900/70{% else %}bg-transparent{% endif %}">
    </div>

    <div class="relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-28 text-center" data-aos="fade-up">

        <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold leading-tight mb-6">
            {{ value.heading }}
        </h2>

        {% if value.text %}
        <p class="text-lg md:text-xl text-white/80 max-w-2xl mx-auto mb-10">
            {{ value.text }}
        </p>
        {% endif %}

        {% if value.button_text and value.button_link %}
        <a href="{{ value.button_link }}"
           class="inline-block bg-white text-brand-700 font-semibold px-10 py-4 rounded-lg text-lg hover:bg-brand-50 transition shadow-lg hover:shadow-xl">
            {{ value.button_text }}
        </a>
        {% endif %}

    </div>
</section>
