{% load wagtailimages_tags wagtailcore_tags services_tags %}

{# --- Services List: clean links to each service page --- #}

<section class="py-16">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">

        <div class="text-center mb-10" data-aos="fade-up">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                {{ value.heading }}
            </h2>
            {% if value.subheading %}
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                {{ value.subheading }}
            </p>
            {% endif %}
        </div>

        {% get_services featured_only=value.featured_only as services %}

        {% if services %}
        <ul class="space-y-3" data-aos="fade-up" data-aos-delay="100">
            {% for service in services %}
            <li>
                <a href="{% pageurl service %}"
                   class="flex items-center justify-between group bg-white border border-gray-100 rounded-lg px-5 py-4 hover:border-brand-300 hover:shadow-sm transition">
                    <div>
                        <span class="text-lg font-semibold text-gray-900 group-hover:text-brand-600 transition">
                            {{ service.title }}
                        </span>
                        {% if service.short_summary %}
                        <p class="text-sm text-gray-500 mt-0.5">{{ service.short_summary }}</p>
                        {% endif %}
                    </div>
                    <svg class="w-5 h-5 text-gray-400 group-hover:text-brand-600 flex-shrink-0 ml-4 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </a>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="text-gray-500 text-center">Services coming soon.</p>
        {% endif %}

        <div class="text-center mt-8" data-aos="fade-up">
            <a href="/services/" class="text-brand-600 hover:text-brand-700 font-medium transition">
                View all services &rarr;
            </a>
        </div>

    </div>
</section>
