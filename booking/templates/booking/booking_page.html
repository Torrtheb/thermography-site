{% extends "base.html" %}
{% load wagtailcore_tags %}

{% block content %}
{# --- Page Header --- #}
<section class="bg-brand-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center" data-aos="fade-up">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
            {{ page.headline }}
        </h1>
        {% if page.instructions %}
        <div class="prose prose-lg prose-blue max-w-2xl mx-auto">
            {{ page.instructions|richtext }}
        </div>
        {% endif %}
    </div>
</section>

{# --- Booking Widget --- #}
<section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">

    {% if page.booking_embed_url %}
    {# --- Iframe Embed (e.g., Calendly) --- #}
    <div class="rounded-xl overflow-hidden shadow-lg border border-gray-200" data-aos="fade-up">
        <iframe src="{{ page.booking_embed_url }}"
                width="100%"
                height="700"
                frameborder="0"
                loading="lazy"
                title="Book an appointment">
        </iframe>
    </div>

    {% elif page.booking_link_url %}
    {# --- Direct Link Button --- #}
    <div class="text-center py-12" data-aos="fade-up">
        <div class="bg-white border border-gray-200 rounded-xl shadow-sm p-12 max-w-lg mx-auto">
            <svg class="w-16 h-16 text-brand-500 mx-auto mb-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                      d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
            </svg>
            <p class="text-gray-600 text-lg mb-8">
                Click below to choose a date and time that works for you.
            </p>
            <a href="{{ page.booking_link_url }}"
               target="_blank"
               rel="noopener noreferrer"
               class="inline-block bg-brand-600 text-white font-semibold px-10 py-4 rounded-lg text-lg hover:bg-brand-700 transition shadow-lg hover:shadow-xl">
                {{ page.booking_link_text }}
            </a>
        </div>
    </div>

    {% else %}
    {# --- Fallback: no booking method configured yet --- #}
    <div class="text-center py-12" data-aos="fade-up">
        <div class="bg-brand-50 rounded-xl p-12 max-w-lg mx-auto">
            <svg class="w-16 h-16 text-brand-400 mx-auto mb-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                      d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <h2 class="text-2xl font-bold text-gray-900 mb-3">Coming Soon</h2>
            <p class="text-gray-600 text-lg mb-6">
                Online booking will be available shortly. In the meantime, please contact us directly.
            </p>
            <a href="/contact/"
               class="inline-block bg-brand-600 text-white font-semibold px-8 py-3 rounded-lg hover:bg-brand-700 transition">
                Contact Us
            </a>
        </div>
    </div>
    {% endif %}

</section>
{% endblock %}
